<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FFTCG Browser Debug Test</title>
    <style>
        body { 
            font-family: monospace; 
            background: #1a1a2e; 
            color: white; 
            padding: 20px; 
        }
        .result { 
            margin: 10px 0; 
            padding: 10px; 
            border-radius: 5px;
        }
        .success { background: rgba(0, 255, 0, 0.2); }
        .error { background: rgba(255, 0, 0, 0.2); }
        .warning { background: rgba(255, 255, 0, 0.2); color: black; }
    </style>
</head>
<body>
    <h1>üîç FFTCG Browser Debug Test</h1>
    <div id="results"></div>

    <script type="module">
        const results = document.getElementById('results');

        function addResult(test, status, message) {
            const div = document.createElement('div');
            div.className = `result ${status}`;
            div.innerHTML = `<strong>${test}:</strong> ${message}`;
            results.appendChild(div);
        }

        // Test 1: Module imports
        try {
            addResult('Import Test', 'success', 'Starting module import tests...');
            
            // Test logger import
            const { logger } = await import('./js/utils/Logger.js');
            addResult('Logger Import', 'success', 'Logger imported successfully');
            
            // Test notifications
            const { notifications } = await import('./js/utils/Notifications.js');
            addResult('Notifications Import', 'success', 'Notifications imported successfully');
            
            // Test card database
            const { EXTENDED_CARD_DATA } = await import('./js/data/ExtendedCardDatabase.js');
            addResult('Card Data Import', 'success', `${EXTENDED_CARD_DATA.length} cards loaded`);
            
            // Test core classes
            const { CardDatabase } = await import('./js/core/CardDatabase.js');
            const { DeckManager } = await import('./js/core/DeckManager.js');
            const { PlayerManager } = await import('./js/core/PlayerManager.js');
            
            addResult('Core Classes Import', 'success', 'All core classes imported');
            
            // Test instantiation
            const db = new CardDatabase();
            const dm = new DeckManager();
            const pm = new PlayerManager();
            
            addResult('Class Instantiation', 'success', 'All classes instantiated successfully');
            
            // Test basic functionality
            db.loadCards(EXTENDED_CARD_DATA);
            const terra = db.getCard('ff1-001-h');
            addResult('Card Loading', terra ? 'success' : 'error', 
                terra ? `Found Terra: ${terra.name}` : 'Terra card not found');
            
            // Test player profile
            const profile = await pm.loadProfile();
            addResult('Player Profile', 'success', `Profile loaded: ${profile.name}`);
            
            addResult('All Tests', 'success', 'üéâ All browser tests passed!');
            
        } catch (error) {
            addResult('Module Import Error', 'error', error.message);
            console.error('Full error:', error);
        }
    </script>
</body>
</html>